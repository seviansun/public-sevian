/*
Copyright 2012, KISSY UI Library v1.30dev
MIT Licensed
build time: Apr 9 12:04
*/
KISSY.add("dom/attr",function(p,b,s,z){function F(o,e){e=A[e]||e;var h=G[e];return h&&h.get?h.get(o,e):o[e]}s=p.Env.host.document.documentElement;var H=!s.hasAttribute,D=s.textContent===z?"innerText":"textContent",x=b._nodeName,E=b._isElementNode,r=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,t=/^(?:button|input|object|select|textarea)$/i,j=/^a(?:rea)?$/i,v=/:|^on/,l=/\r/g,w={},m={val:1,css:1,html:1,text:1,data:1,width:1,
height:1,offset:1,scrollTop:1,scrollLeft:1},y={tabindex:{get:function(o){var e=o.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):t.test(o.nodeName)||j.test(o.nodeName)&&o.href?0:z}},style:{get:function(o){return o.style.cssText},set:function(o,e){o.style.cssText=e}}},A={hidefocus:"hideFocus",tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",
usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},C={get:function(o,e){return b.prop(o,e)?e.toLowerCase():z},set:function(o,e,h){if(e===false)b.removeAttr(o,h);else{e=A[h]||h;if(e in o)o[e]=true;o.setAttribute(h,h.toLowerCase())}return h}},G={},J={},K={option:{get:function(o){var e=o.attributes.value;return!e||e.specified?o.value:o.text}},select:{get:function(o){var e=o.selectedIndex,h=o.options;o=o.type==="select-one";if(e<0)return null;else if(o)return b.val(h[e]);e=[];
o=0;for(var c=h.length;o<c;++o)h[o].selected&&e.push(b.val(h[o]));return e},set:function(o,e){var h=p.makeArray(e);p.each(o.options,function(c){c.selected=p.inArray(b.val(c),h)});if(!h.length)o.selectedIndex=-1;return h}}};if(H){J={get:function(o,e){var h;return(h=o.getAttributeNode(e))&&(h.specified||h.nodeValue)?h.nodeValue:z},set:function(o,e,h){var c=o.getAttributeNode(h);if(c)c.nodeValue=e;else try{var g=o.ownerDocument.createAttribute(h);g.value=e;o.setAttributeNode(g)}catch(k){return o.setAttribute(h,
e,0)}}};w=A;y.tabIndex=y.tabindex;p.each(["href","src","width","height","colSpan","rowSpan"],function(o){y[o]={get:function(e){e=e.getAttribute(o,2);return e===null?z:e}}});K.button=y.value=J}p.each(["radio","checkbox"],function(o){K[o]={get:function(e){return e.getAttribute("value")===null?"on":e.value},set:function(e,h){if(p.isArray(h))return e.checked=p.inArray(b.val(e),h)}}});p.mix(b,{prop:function(o,e,h){o=b.query(o);if(p.isPlainObject(e)){for(var c in e)b.prop(o,c,e[c]);return z}e=A[e]||e;c=
G[e];if(h!==z)for(var g=o.length-1;g>=0;g--){var k=o[g];if(c&&c.set)c.set(k,h,e);else k[e]=h}else if(o.length)return F(o[0],e);return z},hasProp:function(o,e){for(var h=b.query(o),c=0;c<h.length;c++)if(F(h[c],e)!==z)return true;return false},removeProp:function(o,e){e=A[e]||e;for(var h=b.query(o),c=h.length-1;c>=0;c--){var g=h[c];try{g[e]=z;delete g[e]}catch(k){}}},attr:function(o,e,h,c){var g=b.query(o);if(p.isPlainObject(e)){c=h;for(var k in e)e.hasOwnProperty(k)&&b.attr(g,k,e[k],c);return z}if(!(e=
p.trim(e)))return z;if(c&&m[e])return b[e](o,h);e=e.toLowerCase();if(c&&m[e])return b[e](o,h);e=w[e]||e;c=g[0];o=r.test(e)?C:v.test(e)?J:y[e];if(h===z){if(c&&c.nodeType===b.ELEMENT_NODE){if(x(c,"form"))o=J;if(o&&o.get)return o.get(c,e);e=c.getAttribute(e);return e===null?z:e}}else for(k=g.length-1;k>=0;k--)if((c=g[k])&&c.nodeType===b.ELEMENT_NODE){if(x(c,"form"))o=J;o&&o.set?o.set(c,h,e):c.setAttribute(e,""+h)}return z},removeAttr:function(o,e){e=e.toLowerCase();e=w[e]||e;var h=b.query(o),c,g;for(g=
h.length-1;g>=0;g--){c=h[g];if(E(c)){var k;c.removeAttribute(e);if(r.test(e)&&(k=A[e]||e)in c)c[k]=false}}},hasAttr:H?function(o,e){e=e.toLowerCase();for(var h=b.query(o),c=0;c<h.length;c++){var g=h[c].getAttributeNode(e);if(g&&g.specified)return true}return false}:function(o,e){for(var h=b.query(o),c=0;c<h.length;c++)if(h[c].hasAttribute(e))return true;return false},val:function(o,e){var h,c;if(e===z){var g=b.get(o);if(g){if((h=K[g.nodeName.toLowerCase()]||K[g.type])&&"get"in h&&(c=h.get(g,"value"))!==
z)return c;c=g.value;return typeof c==="string"?c.replace(l,""):c==null?"":c}return z}c=b.query(o);var k;for(k=c.length-1;k>=0;k--){g=c[k];if(g.nodeType!==1)break;var u=e;if(u==null)u="";else if(typeof u==="number")u+="";else if(p.isArray(u))u=p.map(u,function(f){return f==null?"":f+""});h=K[g.nodeName.toLowerCase()]||K[g.type];if(!h||!("set"in h)||h.set(g,u,"value")===z)g.value=u}return z},_propHooks:G,text:function(o,e){if(e===z){var h=b.get(o);if(E(h))return h[D]||"";else if(b._nodeTypeIs(h,b.TEXT_NODE))return h.nodeValue;
return z}else{var c=b.query(o),g;for(g=c.length-1;g>=0;g--){h=c[g];if(E(h))h[D]=e;else if(b._nodeTypeIs(h,b.TEXT_NODE))h.nodeValue=e}}return z}});return b},{requires:["./base","ua"]});
KISSY.add("dom/base",function(p,b,s){function z(x,E){return x&&x.nodeType===E}var F=p.Env.host,H={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},D={_isCustomDomain:function(x){x=x||F;var E=x.document.domain;x=x.location.hostname;return E!=x&&E!="["+x+"]"},_genEmptyIframeSrc:function(x){x=x||F;if(b.ie&&D._isCustomDomain(x))return"javascript:void(function(){"+
encodeURIComponent("document.open();document.domain='"+x.document.domain+"';document.close();")+"}())"},_NODE_TYPE:H,_isElementNode:function(x){return z(x,D.ELEMENT_NODE)},_getWin:function(x){return x&&"scrollTo"in x&&x.document?x:z(x,D.DOCUMENT_NODE)?x.defaultView||x.parentWindow:x===s||x===null?F:false},_nodeTypeIs:z,_isNodeList:function(x){return x&&!x.nodeType&&x.item&&!x.setTimeout},_nodeName:function(x,E){return x&&x.nodeName.toLowerCase()===E.toLowerCase()}};p.mix(D,H);return D},{requires:["ua"]});
KISSY.add("dom/class",function(p,b,s){function z(D,x,E,r){if(!(x=p.trim(x)))return r?false:s;D=b.query(D);var t=D.length,j=x.split(F);x=[];for(var v=0;v<j.length;v++){var l=p.trim(j[v]);l&&x.push(l)}for(v=0;v<t;v++){j=D[v];if(b._isElementNode(j)){j=E(j,x,x.length);if(j!==s)return j}}if(r)return false;return s}var F=/[\.\s]\s*\.?/,H=/[\n\t]/g;p.mix(b,{hasClass:function(D,x){return z(D,x,function(E,r,t){if(E=E.className){E=(" "+E+" ").replace(H," ");for(var j=0,v=true;j<t;j++)if(E.indexOf(" "+r[j]+
" ")<0){v=false;break}if(v)return true}},true)},addClass:function(D,x){z(D,x,function(E,r,t){var j=E.className;if(j){var v=(" "+j+" ").replace(H," ");j=j;for(var l=0;l<t;l++)if(v.indexOf(" "+r[l]+" ")<0)j+=" "+r[l];E.className=p.trim(j)}else E.className=x},s)},removeClass:function(D,x){z(D,x,function(E,r,t){var j=E.className;if(j)if(t){j=(" "+j+" ").replace(H," ");for(var v=0,l;v<t;v++)for(l=" "+r[v]+" ";j.indexOf(l)>=0;)j=j.replace(l," ");E.className=p.trim(j)}else E.className=""},s)},replaceClass:function(D,
x,E){b.removeClass(D,x);b.addClass(D,E)},toggleClass:function(D,x,E){var r=p.isBoolean(E),t;z(D,x,function(j,v,l){for(var w=0,m;w<l;w++){m=v[w];t=r?!E:b.hasClass(j,m);b[t?"removeClass":"addClass"](j,m)}},s)}});return b},{requires:["dom/base"]});
KISSY.add("dom/create",function(p,b,s,z){function F(c){var g=p.require("event");g&&g.detach(c);b.removeData(c)}function H(c,g,k){if(t(g,b.DOCUMENT_FRAGMENT_NODE)){g=g.childNodes;k=k.childNodes;for(var u=0;g[u];){k[u]&&H(c,g[u],k[u]);u++}}else if(j(g)){g=g.getElementsByTagName("*");k=k.getElementsByTagName("*");for(u=0;g[u];){k[u]&&c(g[u],k[u]);u++}}}function D(c,g){var k=p.require("event");if(!(j(g)&&!b.hasData(c))){var u=b.data(c),f;for(f in u)b.data(g,f,u[f]);if(k){k._removeData(g);k._clone(c,g)}}}
function x(c,g){g.clearAttributes&&g.clearAttributes();g.mergeAttributes&&g.mergeAttributes(c);var k=g.nodeName.toLowerCase(),u=c.childNodes;if(k==="object"&&!g.childNodes.length)for(k=0;k<u.length;k++)g.appendChild(u[k].cloneNode(true));else if(k==="input"&&(c.type==="checkbox"||c.type==="radio")){if(c.checked)g.defaultChecked=g.checked=c.checked;if(g.value!==c.value)g.value=c.value}else if(k==="option")g.selected=c.defaultSelected;else if(k==="input"||k==="textarea")g.defaultValue=c.defaultValue;
g.removeAttribute(b.__EXPANDO)}function E(c,g){var k=null,u,f;if(c&&(c.push||c.item)&&c[0]){g=g||c[0].ownerDocument;k=g.createDocumentFragment();c=p.makeArray(c);u=0;for(f=c.length;u<f;u++)k.appendChild(c[u])}return k}var r=p.Env.host.document;s=s.ie;var t=b._nodeTypeIs,j=b._isElementNode,v=p.isString,l=r.createElement("div"),w=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,m=/<([\w:]+)/,y=/<tbody/i,A=/^\s+/,C=s&&s<9,G=/<|&#?\w+;/,J=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;p.mix(b,
{create:function(c,g,k,u){var f=null;if(!c)return f;if(c.nodeType)return b.clone(c);if(!v(c))return f;if(u===z)u=true;if(u)c=p.trim(c);u=b._creators;var q,a;k=k||r;var d,i="div";if(G.test(c))if(d=J.exec(c))f=k.createElement(d[1]);else{c=c.replace(w,"<$1></$2>");if((d=m.exec(c))&&(q=d[1]))i=q.toLowerCase();q=(u[i]||u.div)(c,k);if(C&&(a=c.match(A)))q.insertBefore(k.createTextNode(a[0]),q.firstChild);c=q.childNodes;if(c.length===1)f=c[0].parentNode.removeChild(c[0]);else if(c.length)f=E(c,k)}else f=
k.createTextNode(c);f=f;if(p.isPlainObject(g))if(j(f))b.attr(f,g,true);else t(f,b.DOCUMENT_FRAGMENT_NODE)&&b.attr(f.childNodes,g,true);return f},_creators:{div:function(c,g){var k=g&&g!=r?g.createElement("div"):l;k.innerHTML="m<div>"+c+"</div>";return k.lastChild}},html:function(c,g,k,u){c=b.query(c);var f=c[0];if(f)if(g===z)return j(f)?f.innerHTML:null;else{var q=false,a,d;g+="";if(!g.match(/<(?:script|style|link)/i)&&(!C||!g.match(A))&&!e[(g.match(m)||["",""])[1].toLowerCase()])try{for(a=c.length-
1;a>=0;a--){d=c[a];if(j(d)){F(d.getElementsByTagName("*"));d.innerHTML=g}}q=true}catch(i){}if(!q){g=b.create(g,0,f.ownerDocument,0);for(a=c.length-1;a>=0;a--){d=c[a];if(j(d)){b.empty(d);b.append(g,d,k)}}}u&&u()}},remove:function(c,g){var k,u=b.query(c),f;for(f=u.length-1;f>=0;f--){k=u[f];if(!g&&j(k)){var q=k.getElementsByTagName("*");F(q);F(k)}k.parentNode&&k.parentNode.removeChild(k)}},clone:function(c,g,k,u){c=b.get(c);if(!c)return null;var f=c.cloneNode(g);if(j(c)||t(c,b.DOCUMENT_FRAGMENT_NODE)){j(c)&&
x(c,f);g&&H(x,c,f)}if(k){D(c,f);g&&u&&H(D,c,f)}return f},empty:function(c){c=b.query(c);var g,k;for(k=c.length-1;k>=0;k--){g=c[k];b.remove(g.childNodes)}},_nl2frag:E});var K=b._creators,o=b.create,e={option:"select",optgroup:"select",area:"map",thead:"table",td:"tr",th:"tr",tr:"tbody",tbody:"table",tfoot:"table",caption:"table",colgroup:"table",col:"colgroup",legend:"fieldset"},h;for(h in e)(function(c){K[h]=function(g,k){return o("<"+c+">"+g+"</"+c+">",null,k)}})(e[h]);if(s<8)K.table=function(c,
g){var k=K.div(c,g);if(y.test(c))return k;var u=k.firstChild,f=p.makeArray(u.childNodes);p.each(f,function(q){b._nodeName(q,"tbody")&&!q.childNodes.length&&u.removeChild(q)});return k};return b},{requires:["./base","ua"]});
KISSY.add("dom/data",function(p,b,s){var z=p.Env.host,F="_ks_data_"+p.now(),H={},D={},x={};x.applet=1;x.object=1;x.embed=1;var E={hasData:function(j,v){if(j)if(v!==s){if(v in j)return true}else if(!p.isEmptyObject(j))return true;return false}},r={hasData:function(j,v){if(j==z)return r.hasData(D,v);return E.hasData(j[F],v)},data:function(j,v,l){if(j==z)return r.data(D,v,l);var w=j[F];if(l!==s){w=j[F]=j[F]||{};w[v]=l}else if(v!==s)return w&&w[v];else return w=j[F]=j[F]||{}},removeData:function(j,v){if(j==
z)return r.removeData(D,v);var l=j[F];if(v!==s){delete l[v];p.isEmptyObject(l)&&r.removeData(j)}else try{delete j[F]}catch(w){j[F]=s}}},t={hasData:function(j,v){var l=j[F];if(!l)return false;return E.hasData(H[l],v)},data:function(j,v,l){if(x[j.nodeName.toLowerCase()])return s;var w=j[F];if(!w){if(v!==s&&l===s)return s;w=j[F]=p.guid()}j=H[w];if(l!==s){j=H[w]=H[w]||{};j[v]=l}else if(v!==s)return j&&j[v];else return j=H[w]=H[w]||{}},removeData:function(j,v){var l=j[F],w;if(l){w=H[l];if(v!==s){delete w[v];
p.isEmptyObject(w)&&t.removeData(j)}else{delete H[l];try{delete j[F]}catch(m){j[F]=s}j.removeAttribute&&j.removeAttribute(F)}}}};p.mix(b,{__EXPANDO:F,hasData:function(j,v){for(var l=false,w=b.query(j),m=0;m<w.length;m++){l=w[m];if(l=l.nodeType?t.hasData(l,v):r.hasData(l,v))break}return l},data:function(j,v,l){j=b.query(j);var w=j[0];if(p.isPlainObject(v)){for(var m in v)b.data(j,m,v[m]);return s}if(l===s){if(w)return w.nodeType?t.data(w,v,l):r.data(w,v,l)}else for(m=j.length-1;m>=0;m--){w=j[m];w.nodeType?
t.data(w,v,l):r.data(w,v,l)}return s},removeData:function(j,v){var l=b.query(j),w,m;for(m=l.length-1;m>=0;m--){w=l[m];w.nodeType?t.removeData(w,v):r.removeData(w,v)}}});return b},{requires:["./base"]});KISSY.add("dom",function(p,b){p.mix(p,{DOM:b,get:b.get,query:b.query});return b},{requires:["dom/attr","dom/class","dom/create","dom/data","dom/insertion","dom/offset","dom/style","dom/selector","dom/style-ie","dom/traversal"]});
KISSY.add("dom/insertion",function(p,b,s){function z(m){for(var y=0;y<m.length;y++){var A=m[y];if(A.nodeType==s.DOCUMENT_FRAGMENT_NODE)z(A.childNodes);else if(E(A,"input")){if(A.type==="checkbox"||A.type==="radio")A.defaultChecked=A.checked}else if(j(A)){A=A.getElementsByTagName("input");for(var C=0;C<A.length;C++)z(A[C])}}}function F(m,y){var A=[],C,G,J;for(C=0;m[C];C++){G=m[C];J=G.nodeName.toLowerCase();if(G.nodeType==s.DOCUMENT_FRAGMENT_NODE)A.push.apply(A,F(r(G.childNodes),y));else if(J==="script"&&
(!G.type||v.test(G.type))){G.parentNode&&G.parentNode.removeChild(G);y&&y.push(G)}else{if(j(G)&&!x.test(J)){J=[];var K,o,e=G.getElementsByTagName("script");for(o=0;o<e.length;o++){K=e[o];(!K.type||v.test(K.type))&&J.push(K)}t.apply(m,[C+1,0].concat(J))}A.push(G)}}return A}function H(m){if(m.src)p.getScript(m.src);else(m=p.trim(m.text||m.textContent||m.innerHTML||""))&&p.globalEval(m)}function D(m,y,A,C){m=s.query(m);if(C)C=[];m=F(m,C);b.ie<8&&z(m);y=s.query(y);var G=m.length,J=y.length;if(!(!G&&(!C||
!C.length)||!J)){m=s._nl2frag(m);var K;if(J>1){K=s.clone(m,true);y=p.makeArray(y)}for(var o=0;o<J;o++){var e=y[o];if(G){var h=o>0?s.clone(K,true):m;A(h,e)}C&&C.length&&p.each(C,H)}}}var x=/^(?:button|input|object|select|textarea)$/i,E=s._nodeName,r=p.makeArray,t=[].splice,j=s._isElementNode,v=/\/(java|ecma)script/i;p.mix(s,{insertBefore:function(m,y,A){D(m,y,function(C,G){G.parentNode&&G.parentNode.insertBefore(C,G)},A)},insertAfter:function(m,y,A){D(m,y,function(C,G){G.parentNode&&G.parentNode.insertBefore(C,
G.nextSibling)},A)},appendTo:function(m,y,A){D(m,y,function(C,G){G.appendChild(C)},A)},prependTo:function(m,y,A){D(m,y,function(C,G){G.insertBefore(C,G.firstChild)},A)},wrapAll:function(m,y){y=s.clone(s.get(y),true);m=s.query(m);m[0].parentNode&&s.insertBefore(y,m[0]);for(var A;(A=y.firstChild)&&A.nodeType==1;)y=A;s.appendTo(m,y)},wrap:function(m,y){m=s.query(m);y=s.get(y);p.each(m,function(A){s.wrapAll(A,y)})},wrapInner:function(m,y){m=s.query(m);y=s.get(y);p.each(m,function(A){var C=A.childNodes;
C.length?s.wrapAll(C,y):A.appendChild(y)})},unwrap:function(m){m=s.query(m);p.each(m,function(y){y=y.parentNode;s.replaceWith(y,y.childNodes)})},replaceWith:function(m,y){var A=s.query(m);y=s.query(y);s.remove(y,true);s.insertBefore(y,A);s.remove(A)}});var l={prepend:"prependTo",append:"appendTo",before:"insertBefore",after:"insertAfter"},w;for(w in l)s[w]=s[l[w]];return s},{requires:["ua","./create"]});
KISSY.add("dom/offset",function(p,b,s,z){function F(e){var h,c=0;h=0;var g=x.body,k=v(e[y]);if(e[o]){h=e[o]();c=h[A];h=h[C];e=E&&x.documentMode!=9&&(l?r.clientTop:g.clientTop)||0;c-=E&&x.documentMode!=9&&(l?r.clientLeft:g.clientLeft)||0;h-=e;if(s.mobile=="apple"){c-=b[J](k);h-=b[K](k)}}return{left:c,top:h}}function H(e,h){var c={left:0,top:0},g=v(e[y]),k=e;h=h||g;do{var u;if(g==h){var f=k;u=F(f);f=v(f[y]);u.left+=b[J](f);u.top+=b[K](f);u=u}else u=F(k);u=u;c.left+=u.left;c.top+=u.top}while(g&&g!=h&&
(k=g.frameElement)&&(g=g.parent));return c}var D=p.Env.host,x=D.document,E=s.ie,r=x.documentElement,t=b._isElementNode,j=b._nodeTypeIs,v=b._getWin,l=x.compatMode==="CSS1Compat",w=Math.max,m=parseInt,y="ownerDocument",A="left",C="top",G=p.isNumber,J="scrollLeft",K="scrollTop",o="getBoundingClientRect";p.mix(b,{offset:function(e,h,c){if(h===z){e=b.get(e);var g;if(e)g=H(e,c);return g}c=b.query(e);for(g=c.length-1;g>=0;g--){e=e=c[g];var k=h;if(b.css(e,"position")==="static")e.style.position="relative";
var u=H(e),f={},q=void 0,a=void 0;for(a in k){q=m(b.css(e,a),10)||0;f[a]=q+k[a]-u[a]}b.css(e,f)}return z},scrollIntoView:function(e,h,c,g,k){var u;if(u=b.get(e)){if(h)h=b.get(h);if(!h)h=u.ownerDocument;if(k!==true){g=g===z?true:!!g;c=c===z?true:!!c}if(j(h,b.DOCUMENT_NODE))h=v(h);var f=!!v(h);k=b.offset(u);e=b.outerHeight(u);u=b.outerWidth(u);var q,a,d,i;if(f){f=h;a=b.height(f);q=b.width(f);i={left:b.scrollLeft(f),top:b.scrollTop(f)};f={left:k[A]-i[A],top:k[C]-i[C]};k={left:k[A]+u-(i[A]+q),top:k[C]+
e-(i[C]+a)};i=i}else{q=b.offset(h);a=h.clientHeight;d=h.clientWidth;i={left:b.scrollLeft(h),top:b.scrollTop(h)};f={left:k[A]-q[A]-(m(b.css(h,"borderLeftWidth"))||0),top:k[C]-q[C]-(m(b.css(h,"borderTopWidth"))||0)};k={left:k[A]+u-(q[A]+d+(m(b.css(h,"borderRightWidth"))||0)),top:k[C]+e-(q[C]+a+(m(b.css(h,"borderBottomWidth"))||0))}}if(f.top<0||k.top>0)if(c===true)b.scrollTop(h,i.top+f.top);else if(c===false)b.scrollTop(h,i.top+k.top);else f.top<0?b.scrollTop(h,i.top+f.top):b.scrollTop(h,i.top+k.top);
if(g)if(f.left<0||k.left>0)if(c===true)b.scrollLeft(h,i.left+f.left);else if(c===false)b.scrollLeft(h,i.left+k.left);else f.left<0?b.scrollLeft(h,i.left+f.left):b.scrollLeft(h,i.left+k.left)}},docWidth:0,docHeight:0,viewportHeight:0,viewportWidth:0,scrollTop:0,scrollLeft:0});p.each(["Left","Top"],function(e,h){var c="scroll"+e;b[c]=function(g,k){if(G(g))return arguments.callee(D,g);g=b.get(g);var u,f=v(g);if(f)if(k!==z){k=parseFloat(k);var q=e=="Left"?k:b.scrollLeft(f),a=e=="Top"?k:b.scrollTop(f);
f.scrollTo(q,a)}else{u=f["page"+(h?"Y":"X")+"Offset"];if(!G(u)){f=f.document;u=f.documentElement[c];G(u)||(u=f.body[c])}}else if(t(g))if(k!==z)g[c]=parseFloat(k);else u=g[c];return u}});p.each(["Width","Height"],function(e){b["doc"+e]=function(h){h=b.get(h);h=v(h).document;return w(h.documentElement["scroll"+e],h.body["scroll"+e],b["viewport"+e](h))};b["viewport"+e]=function(h){h=b.get(h);var c="client"+e;h=v(h).document;var g=h.body,k=h.documentElement[c];return h.compatMode==="CSS1Compat"&&k||g&&
g[c]||k}});return b},{requires:["./base","ua"]});
KISSY.add("dom/selector",function(p,b,s){function z(f){var q,a;for(a=0;a<this.length;a++){q=this[a];if(f(q,a)===false)break}}function F(f,q){var a,d,i=y(f),n=q===s&&(d=1)?[l]:F(q,s);if(f)if(i){f=e(f);if(n.length==1&&f)a=D(f,n[0])}else{if(d)if(f.nodeType||f.setTimeout)a=[f];else if(f.getDOMNodes)return f;else a=m(f)?f:C(f)?p.makeArray(f):[f]}else a=[];if(!a){a=[];if(f){for(d=0;d<n.length;d++)J.apply(a,H(f,n[d]));if(a.length>1&&(n.length>1||i&&f.indexOf(o)>-1))k(a)}}a.each=z;return a}function H(f,q){var a=
[];if((a=y(f))&&f.match(g)||!a)a=x(f,q);else{if(a&&f.indexOf(o)>-1){a=[];var d,i=f.split(/\s*,\s*/);for(d=0;d<i.length;d++)J.apply(a,H(i[d],q));a=a}else{a=[];(d=p.require("sizzle"))&&d(f,q,a);a=a}a=a}return a=a}function D(f,q){var a,d,i,n;if(c.test(f))a=(d=r(f.slice(1),q))?[d]:[];else if(i=g.exec(f)){d=i[1];n=i[2];i=i[3];if(q=d?r(d,q):q)if(i)if(!d||f.indexOf(K)!=-1)a=[].concat(u(i,n,q));else{if((d=r(d,q))&&j(d,i))a=[d]}else if(n)a=t(n,q);a=a||[]}return a}function x(f,q){var a;if(y(f))a=D(f,q)||[];
else if(m(f)||C(f))a=w(f,function(d){return E(d,q)});else if(E(f,q))a=[f];return a}function E(f,q){if(!f)return false;if(q==l)return true;return b.contains(q,f)}function r(f,q){var a=q;if(q.nodeType!==b.DOCUMENT_NODE)a=q.ownerDocument;a=a.getElementById(f);if(!(a&&a.id===f))if(a&&a.parentNode)if(v(a,f))E(a,q)||(a=null);else a=b.filter(h,"#"+f,q)[0]||null;else a=null;return a}function t(f,q){return q&&A(q.getElementsByTagName(f))||[]}function j(f,q){var a;return(a=f.className)&&(" "+a+" ").indexOf(" "+
q+" ")!==-1}function v(f,q){var a=f.getAttributeNode("id");return a&&a.nodeValue===q}var l=p.Env.host.document,w=p.filter,m=p.isArray,y=p.isString,A=p.makeArray,C=b._isNodeList,G=b._nodeName,J=Array.prototype.push,K=" ",o=",",e=p.trim,h="*",c=/^#[\w-]+$/,g=/^(?:#([\w-]+))?\s*([\w-]+|\*)?\.?([\w-]+)?$/,k=p.noop;(function(){var f,q,a=true;[0,0].sort(function(){a=false;return 0});k=function(d){if(f){q=a;d.sort(f);if(q)for(var i=1,n=d.length;i<n;)if(d[i]===d[i-1])d.splice(i,1);else i++}return d};f=l.documentElement.compareDocumentPosition?
function(d,i){if(d==i){q=true;return 0}if(!d.compareDocumentPosition||!i.compareDocumentPosition)return d.compareDocumentPosition?-1:1;return d.compareDocumentPosition(i)&4?-1:1}:function(d,i){if(d==i){q=true;return 0}else if(d.sourceIndex&&i.sourceIndex)return d.sourceIndex-i.sourceIndex}})();(function(){var f=l.createElement("div");f.appendChild(l.createComment(""));if(f.getElementsByTagName(h).length>0)t=function(q,a){var d=A(a.getElementsByTagName(q));if(q===h){for(var i=[],n=0,B;B=d[n++];)B.nodeType===
1&&i.push(B);d=i}return d}})();var u=l.getElementsByClassName?function(f,q,a){if(!a)return[];f=a.getElementsByClassName(f);var d=0,i=f.length,n;if(q&&q!==h)for(a=[];d<i;++d){n=f[d];G(n,q)&&a.push(n)}else a=A(f);return a}:l.querySelectorAll?function(f,q,a){return a&&A(a.querySelectorAll((q?q:"")+"."+f))||[]}:function(f,q,a){if(!a)return[];q=a.getElementsByTagName(q||h);a=[];for(var d=0,i=q.length,n;d<i;++d){n=q[d];j(n,f)&&a.push(n)}return a};p.mix(b,{query:F,get:function(f,q){return F(f,q)[0]||null},
unique:k,filter:function(f,q,a){f=F(f,a);a=p.require("sizzle");var d,i,n,B,I=[];if(y(q)&&(q=e(q))&&(d=g.exec(q))){n=d[1];i=d[2];B=d[3];if(n){if(n&&!i&&!B)q=function(L){return v(L,n)}}else q=function(L){var M=true,N=true;if(i)M=G(L,i);if(B)N=j(L,B);return N&&M}}if(p.isFunction(q))I=p.filter(f,q);else if(q&&a)I=a.matches(q,f);return I},test:function(f,q,a){f=F(f,a);return f.length&&b.filter(f,q,a).length===f.length}});return b},{requires:["./base"]});
KISSY.add("dom/style-ie",function(p,b,s,z){if(!s.ie)return b;var F=p.Env.host.document,H=F.documentElement,D=z._CUSTOM_STYLES,x=/^-?\d+(?:px)?$/i,E=/^-?\d/,r=/opacity=([^)]*)/,t=/alpha\([^)]*\)/i;D.backgroundPosition={get:function(l,w){return w?l.currentStyle.backgroundPositionX+" "+l.currentStyle.backgroundPositionY:l.style.backgroundPosition}};try{if(H.style.opacity==null)D.opacity={get:function(l,w){return r.test((w&&l.currentStyle?l.currentStyle.filter:l.style.filter)||"")?parseFloat(RegExp.$1)/
100+"":w?"1":""},set:function(l,w){w=parseFloat(w);var m=l.style,y=l.currentStyle,A=isNaN(w)?"":"alpha(opacity="+w*100+")",C=p.trim(y&&y.filter||m.filter||"");m.zoom=1;if(w>=1&&p.trim(C.replace(t,""))===""){m.removeAttribute("filter");if(y&&!y.filter)return}m.filter=t.test(C)?C.replace(t,A):C+(C?", ":"")+A}}}catch(j){}s=s.ie==8;var v={};v.thin=s?"1px":"2px";v.medium=s?"3px":"4px";v.thick=s?"5px":"6px";p.each(["","Top","Left","Right","Bottom"],function(l){var w="border"+l+"Width",m="border"+l+"Style";
D[w]={get:function(y,A){var C=A?y.currentStyle:0,G=C&&String(C[w])||undefined;if(G&&G.indexOf("px")<0)G=v[G]&&C[m]!=="none"?v[G]:0;return G}}});if(!(F.defaultView||{}).getComputedStyle&&H.currentStyle)b._getComputedStyle=function(l,w){w=b._cssProps[w]||w;var m=l.currentStyle&&l.currentStyle[w];if(!x.test(m)&&E.test(m)){var y=l.style,A=y.left,C=l.runtimeStyle&&l.runtimeStyle.left;if(C)l.runtimeStyle.left=l.currentStyle.left;y.left=w==="fontSize"?"1em":m||0;m=y.pixelLeft+"px";y.left=A;if(C)l.runtimeStyle.left=
C}return m===""?"auto":m};return b},{requires:["./base","ua","./style"]});
KISSY.add("dom/style",function(p,b,s,z){function F(a){return a.replace(G,"ms-").replace(J,K)}function H(a,d,i){var n={},B;for(B in d){n[B]=a[l][B];a[l][B]=d[B]}i.call(a);for(B in d)a[l][B]=n[B]}function D(a,d,i){var n;if(a.nodeType===3||a.nodeType===8||!(n=a[l]))return z;d=F(d);var B,I=c[d];d=g[d]||d;if(i!==z){if(i===null||i===e)i=e;else if(!isNaN(Number(i))&&!C[d])i+=h;if(I&&I.set)i=I.set(a,i);if(i!==z){try{n[d]=i}catch(L){}i===e&&n.removeAttribute&&n.removeAttribute(d)}n.cssText||a.removeAttribute("style");
return z}else{if(!(I&&"get"in I&&(B=I.get(a,false))!==z))B=n[d];return B===z?"":B}}function x(a){var d,i=arguments;if(a.offsetWidth!==0)d=E.apply(z,i);else H(a,q,function(){d=E.apply(z,i)});return d}function E(a,d,i){if(p.isWindow(a))return d==w?b.viewportWidth(a):b.viewportHeight(a);else if(a.nodeType==9)return d==w?b.docWidth(a):b.docHeight(a);var n=d===w?["Left","Right"]:["Top","Bottom"],B=d===w?a.offsetWidth:a.offsetHeight;if(B>0){i!=="border"&&p.each(n,function(I){i||(B-=parseFloat(b.css(a,"padding"+
I))||0);if(i==="margin")B+=parseFloat(b.css(a,i+I))||0;else B-=parseFloat(b.css(a,"border"+I+"Width"))||0});return B}B=b._getComputedStyle(a,d);if(B==null||Number(B)<0)B=a.style[d]||0;B=parseFloat(B)||0;i&&p.each(n,function(I){B+=parseFloat(b.css(a,"padding"+I))||0;if(i!=="padding")B+=parseFloat(b.css(a,"border"+I+"Width"))||0;if(i==="margin")B+=parseFloat(b.css(a,i+I))||0});return B}var r=p.Env.host,t=r.document,j=t.documentElement,v=s.ie,l="style",w="width",m="display"+p.now(),y=parseInt,A=/^-?\d+(?:px)?$/i,
C={fillOpacity:1,fontWeight:1,lineHeight:1,opacity:1,orphans:1,widows:1,zIndex:1,zoom:1},G=/^-ms-/,J=/-([a-z])/ig,K=function(a,d){return d.toUpperCase()},o=/([A-Z]|^ms)/g,e="",h="px",c={},g={},k={};if(j[l].cssFloat!==z)g["float"]="cssFloat";else if(j[l].styleFloat!==z)g["float"]="styleFloat";var u,f;p.mix(b,{_camelCase:F,_CUSTOM_STYLES:c,_cssProps:g,_getComputedStyle:function(a,d){var i="",n,B=a.ownerDocument;d=d.replace(o,"-$1").toLowerCase();if(n=B.defaultView.getComputedStyle(a,null))i=n.getPropertyValue(d)||
n[d];if(i==""&&!b.contains(B.documentElement,a)){d=g[d]||d;i=a[l][d]}return i},style:function(a,d,i){a=b.query(a);var n=a[0];if(p.isPlainObject(d)){for(var B in d)for(n=a.length-1;n>=0;n--)D(a[n],B,d[B]);return z}if(i===z){B="";if(n)B=D(n,d,i);return B}else for(n=a.length-1;n>=0;n--)D(a[n],d,i);return z},css:function(a,d,i){a=b.query(a);var n=a[0];if(p.isPlainObject(d)){for(var B in d)for(n=a.length-1;n>=0;n--)D(a[n],B,d[B]);return z}d=F(d);B=c[d];if(i===z){i="";if(n)if(!(B&&"get"in B&&(i=B.get(n,
true))!==z))i=b._getComputedStyle(n,d);return i===z?"":i}else for(n=a.length-1;n>=0;n--)D(a[n],d,i);return z},show:function(a){a=b.query(a);var d,i;for(i=a.length-1;i>=0;i--){d=a[i];d[l].display=b.data(d,m)||e;if(b.css(d,"display")==="none"){var n;a:{n=d.tagName.toLowerCase();var B=void 0,I=void 0;if(!k[n]){B=t.body||t.documentElement;I=t.createElement(n);b.prepend(I,B);var L=b.css(I,"display");B.removeChild(I);if(L==="none"||L===""){if(u)b.prepend(u,B);else{u=t.createElement("iframe");u.frameBorder=
u.width=u.height=0;b.prepend(u,B);I=void 0;if(I=b._genEmptyIframeSrc())u.src=I}if(!f||!u.createElement)try{f=u.contentWindow.document;f.write((t.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><head>"+(s.ie&&b._isCustomDomain()?"<script>document.domain = '"+t.domain+"';<\/script>":"")+"</head><body>");f.close()}catch(M){n="block";break a}I=f.createElement(n);f.body.appendChild(I);L=b.css(I,"display");B.removeChild(u)}k[n]=L}n=k[n]}b.data(d,m,n);d[l].display=n}}},hide:function(a){a=b.query(a);
var d,i;for(i=a.length-1;i>=0;i--){d=a[i];var n=d[l],B=n.display;if(B!=="none"){B&&b.data(d,m,B);n.display="none"}}},toggle:function(a){a=b.query(a);var d,i;for(i=a.length-1;i>=0;i--){d=a[i];b.css(d,"display")==="none"?b.show(d):b.hide(d)}},addStyleSheet:function(a,d,i){a=a||r;if(p.isString(a)){i=d;d=a;a=r}a=b.get(a);a=b._getWin(a).document;var n;if(i&&(i=i.replace("#",e)))n=b.get("#"+i,a);if(!n){n=b.create("<style>",{id:i},a);b.get("head",a).appendChild(n);if(n.styleSheet)n.styleSheet.cssText=d;
else n.appendChild(a.createTextNode(d))}},unselectable:function(a){a=b.query(a);var d,i;for(i=a.length-1;i>=0;i--){d=a[i];if(s.gecko)d[l].MozUserSelect="none";else if(s.webkit)d[l].KhtmlUserSelect="none";else if(s.ie||s.opera){var n=0,B=d.getElementsByTagName("*");for(d.setAttribute("unselectable","on");d=B[n++];)switch(d.tagName.toLowerCase()){case "iframe":case "textarea":case "input":case "select":break;default:d.setAttribute("unselectable","on")}}}},innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,
width:0,height:0});p.each([w,"height"],function(a){b["inner"+(a.charAt(0).toUpperCase()+a.substring(1))]=function(d){return(d=b.get(d))&&x(d,a,"padding")};b["outer"+(a.charAt(0).toUpperCase()+a.substring(1))]=function(d,i){var n=b.get(d);return n&&x(n,a,i?"margin":"border")};b[a]=function(d,i){var n=b.css(d,a,i);if(n)n=parseFloat(n);return n}});var q={position:"absolute",visibility:"hidden",display:"block"};p.each(["height","width"],function(a){c[a]={get:function(d,i){if(i)return x(d,a)+"px"},set:function(d,
i){if(A.test(i)){i=parseFloat(i);if(i>=0)return i+"px"}else return i}}});p.each(["left","top"],function(a){c[a]={get:function(d,i){if(i){var n=b._getComputedStyle(d,a);if(n==="auto"){n=0;if(p.inArray(b.css(d,"position"),["absolute","fixed"])){n=d[a==="left"?"offsetLeft":"offsetTop"];if(v&&t.documentMode!=9||s.opera)n-=d.offsetParent&&d.offsetParent["client"+(a=="left"?"Left":"Top")]||0;n=n-(y(b.css(d,"margin-"+a))||0)}n+="px"}return n}}}});return b},{requires:["dom/base","ua"]});
KISSY.add("dom/traversal",function(p,b,s){function z(r,t,j,v,l,w){if(!(r=b.get(r)))return null;if(t===0)return r;w||(r=r[j]);if(!r)return null;l=l&&b.get(l)||null;if(t===s)t=1;w=[];var m=p.isArray(t),y,A;if(p.isNumber(t)){y=0;A=t;t=function(){return++y===A}}for(;r&&r!=l;){if(D(r)&&F(r,t)&&(!v||v(r))){w.push(r);if(!m)break}r=r[j]}return m?w:w[0]||null}function F(r,t){if(!t)return true;if(p.isArray(t))for(var j=0;j<t.length;j++){if(b.test(r,t[j]))return true}else if(b.test(r,t))return true;return false}
function H(r,t,j,v){var l=[];var w=r=b.get(r);if(r&&j)w=r.parentNode;if(w){l=p.makeArray(w.childNodes);v||(l=b.filter(l,function(m){return m.nodeType==1}));if(t)l=b.filter(l,t)}return l}var D=b._isElementNode,x=p.Env.host.document,E=x.documentElement.contains?function(r,t){if(r.nodeType==b.TEXT_NODE)return false;var j;if(t.nodeType==b.TEXT_NODE){t=t.parentNode;j=true}else if(t.nodeType==b.DOCUMENT_NODE)return false;else j=r!==t;return j&&(r.contains?r.contains(t):true)}:x.documentElement.compareDocumentPosition?
function(r,t){return!!(r.compareDocumentPosition(t)&16)}:0;p.mix(b,{closest:function(r,t,j){return z(r,t,"parentNode",function(v){return v.nodeType!=b.DOCUMENT_FRAGMENT_NODE},j,true)},parent:function(r,t,j){return z(r,t,"parentNode",function(v){return v.nodeType!=b.DOCUMENT_FRAGMENT_NODE},j)},first:function(r,t){var j=b.get(r);return z(j&&j.firstChild,t,"nextSibling",s,s,true)},last:function(r,t){var j=b.get(r);return z(j&&j.lastChild,t,"previousSibling",s,s,true)},next:function(r,t){return z(r,t,
"nextSibling",s)},prev:function(r,t){return z(r,t,"previousSibling",s)},siblings:function(r,t){return H(r,t,true)},children:function(r,t){return H(r,t,s)},contents:function(r,t){return H(r,t,s,1)},contains:function(r,t){r=b.get(r);t=b.get(t);if(r&&t)return E(r,t);return false},equals:function(r,t){r=b.query(r);t=b.query(t);if(r.length!=t.length)return false;for(var j=r.length;j>=0;j--)if(r[j]!=t[j])return false;return true}});return b},{requires:["./base"]});
